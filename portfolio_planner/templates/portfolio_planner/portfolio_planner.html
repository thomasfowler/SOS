{% extends 'base.html' %}
{% load django_bootstrap5 %}
{% load djmoney %}
{% load static %}

{% block title %}Opportunity Portfolio Planner{% endblock %}

{% block content %}
    <div class="container my-5">
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="thead-light">
                    <tr>
                        <th scope="col" class="text-center">ID</th>
                        <th scope="col">Name</th>
                        <th scope="col">Description</th>
                        <th scope="col">Status</th>
                        <th scope="col">Agency</th>
                        <th scope="col">Client</th>
                        <th scope="col">Business Unit</th>
                        <th scope="col">Product</th>
                        <th scope="col">Fiscal</th>
                        <th scope="col">Target</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody hx-trigger="load, opportunityListChanged from:body" hx-get="{% url 'opportunity_list' %}" hx-target="this" >
                </tbody>
            </table>
        </div>

        <button hx-get="{% url 'add_opportunity' %}" hx-target="#dialog" class="btn btn-primary">
          Add an opportunity
        </button>
    </div>

    <div id="modal" class="modal fade">
      <div id="dialog" class="modal-dialog modal-xl" hx-target="this"></div>
    </div>

    {# Custom JS #}
    <script src="{% static "dialog.js" %}"></script>
{% endblock %}
