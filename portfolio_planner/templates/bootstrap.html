{% extends 'django_bootstrap5/bootstrap5.html' %}
{% load django_htmx %}
{% load static %}

{% block bootstrap5_title %}
    {% block title %}
    {% endblock %}
{% endblock %}

{% block bootstrap5_extra_head %}
    {# HTMX #}
    <script src="https://unpkg.com/htmx.org@1.9.6"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    {% django_htmx_script %}
    <script src="{% static 'js/custom.js' %}" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/custom.css' %}">
{% endblock %}

{# Ensure we have the CSRF token loaded for HTMX purposes in the entire body of the HTML#}
{% block bootstrap5_extra_script %}
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
            var body = document.querySelector('body');
            body.setAttribute('hx-headers', '{"X-CSRFToken": "{{ csrf_token }}" }');
        });
    </script>
{% endblock %}